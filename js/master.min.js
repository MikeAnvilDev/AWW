function NavigationSetUp() { $("header nav span").click(function () { NavigationToggle(!1) }), $("header p.hamburger").click(function () { NavigationToggle(!0) }) } function NavigationToggle(a) { a ? ($("header p.hamburger").addClass("expanded").unbind("click").click(function () { Navigation_Toggle(!1) }), $("header nav").show(), $("header nav div").stop().animate({ "margin-left": "0%" }), $("header nav span").stop().css({ opacity: 0 }).show().animate({ opacity: "1" })) : ($("header p.hamburger").removeClass("expanded").unbind("click").click(function () { Navigation_Toggle(!0) }), $("header nav div").stop().animate({ "margin-left": "-100%" }), $("header nav span").stop().animate({ opacity: "0" }, function () { $("header nav").hide() })) } function showContent() { displayContentOverlay(!1), loadYouTubes() } function loadYouTubes() { var a = $("div.youtube-wrapper"); a.each(function () { $wrapper = $(this), $wrapper.append('<iframe src="' + $wrapper.attr("youtube-iframe") + '" frameborder="0" allowfullscreen="allowfullscreen"></iframe>') }) } function displayContentOverlay(a) { var e = $("#Loading"); e.stop(), a ? e.css({ display: "block", opacity: 1 }) : e.fadeOut() } function displayErrorMessage(a, e) { var n = $("#ErrorOverlay"); a ? (n.length > 0 && n.remove(), n = $('<div id="ErrorOverlay"><div><p class="message">' + e + '</p><p class="close">close</p></div></div>'), $("body").append(n), n.find("p.close").click(function () { displayErrorMessage(!1) }), n.css({ marginLeft: -1 * n.outerWidth() / 2 + "px", marginTop: -1 * n.outerHeight() / 2 + "px" })) : n.length > 0 && n.fadeOut(function () { $(this).remove() }) } $(document).ready(function () { NavigationSetUp() }), $(window).on("load", function () { showContent() });