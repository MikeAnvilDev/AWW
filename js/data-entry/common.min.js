function checkStatus(e) { if (e.hasOwnProperty("status")) { var o = e.status; return convertToBoolean(o) } return alert("an error has occurred"), !1 } function checkCookie(e) { if (cookie = document.cookie, cookieValue = null, null != cookie) for (var o = cookie.split(";"), t = 0; t < o.length; t++) { var n = o[t].split("="); n[0].replace(/^\s\s*/, "").replace(/\s\s*$/, "") == e && n[1].length > 0 && (cookieValue = n[1]) } return cookieValue } function setCookie(e, o) { var t = new Date; t.setDate(t.getDate() + 365), document.cookie = e + "=" + o + "; expires=" + t.toUTCString() + "; path=/" } function getToken() { var e = null; return e = "undefined" != typeof Storage ? window.localStorage.getItem("token") : checkCookie("token") } function storeToken(e) { "undefined" != typeof Storage ? localStorage.setItem("token", e) : setCookie("token", e) } function clearToken() { "undefined" != typeof Storage ? localStorage.removeItem("token") : setCookie("token", ""), location.href = "../login/index.html?error=" + encodeURIComponent("Your session has expired.") } function clearTokenWithError(e) { "undefined" != typeof Storage ? localStorage.removeItem("token") : setCookie("token", ""), location.href = "../login/index.html?error=" + encodeURIComponent(e) } function checkForToken(e) { return e.hasOwnProperty("token") ? (storeToken(e.token), !0) : (clearToken(), !1) } function validateToken(e) { token = getToken(), null != token ? (jQuery.support.cors = !0, $.ajax({ url: "https://msapps.acesag.auburn.edu/aww/api/home/ValidateToken", dataType: "json", type: "GET", contentType: "application/json", headers: { Authorization: "Bearer " + token }, cache: !1, success: function (o) { convertToBoolean(o.status) ? (storeToken(o.token), "function" == typeof e && e()) : clearToken() }, error: function (e, o, t) { clearToken() } })) : clearToken() } function setUpAutoSave(e, o) { e.find("input").blur(function () { storeFormLocally(e, o) }), e.find("textarea").blur(function () { storeFormLocally(e, o) }), e.find("select").change(function () { storeFormLocally(e, o) }) } function loadLocallyStored(e) { if ("undefined" != typeof Storage) { var o = localStorage.getItem(e); if (null === o) return !1; if (o.length > 0) { var t = new Object, n = o.split(","); $.each(n, function (e, o) { var n = o.split(":"); t[n[0]] = decodeString(n[1]) }); for (var r in t) t.hasOwnProperty(r) && ($("#" + r).is("[type=checkbox]") ? $("#" + r).prop("checked", "true" == t[r]) : $("#" + r).is("[type=radio]") ? $("#" + r).prop("checked", "true" == t[r]) : $("#" + r).val(t[r])); return !0 } return !1 } } function clearLocallyStoredForm(e) { "undefined" != typeof Storage && localStorage.removeItem(e) } function storeFormLocally(e, o) { if ("undefined" != typeof Storage) { var t = new Array, n = e.find("input, select, textarea"); n.each(function () { var e = $(this); e.is("[type=checkbox]") ? t.push(e.attr("id") + ":" + e.prop("checked")) : e.is("[type=radio]") ? t.push(e.attr("id") + ":" + e.prop("checked")) : t.push(e.attr("id") + ":" + encodeString(e.val())) }), localStorage.setItem(o, t.join(",")) } } function convertToBoolean(e) { var e = e.toLowerCase(); return "ok" == e || "true" == e || "1" == e || "200" == e ? !0 : !1 } function getQueryVariable(e) { for (var o = window.location.search.substring(1), t = o.split("&"), n = 0; n < t.length; n++) { var r = t[n].split("="); if (r[0] == e) return r[1] } return "" } function encodeString(e) { return e.replace(":", "%3A").replace(",", "%2C") } function decodeString(e) { return e.replace("%3A", ":").replace("%2C", ",") }